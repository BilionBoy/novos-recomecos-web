<div class="container">
  <%= render "shared/notice" %>
  <div class="card shadow rounded-4 border-0">
    <!-- Cabeçalho -->
    <div class="card-header bg-primary text-white d-flex justify-content-between align-items-center rounded-top-4 px-4 py-3" style="font-size: 1.2rem;">
      <h4 class="mb-0 d-flex align-items-center">
        <i class="bi bi-person-badge-fill me-2"></i> Perfil do Atleta
      </h4>
    </div>
    <div class="row g-0">
      <!-- Menu lateral -->
      <div class="col-md-3 border-end bg-light p-3" style="font-size: 1.1rem;">
        <ul class="nav nav-pills flex-column gap-2" id="profileTabs" role="tablist">
          <li class="nav-item">
            <a class="nav-link active d-flex align-items-center" data-bs-toggle="pill" href="#dados" role="tab">
              <i class="bi bi-card-text me-2"></i> Dados Pessoais
            </a>
          </li>
          <li class="nav-item">
            <a class="nav-link d-flex align-items-center" data-bs-toggle="pill" href="#endereco" role="tab">
              <i class="bi bi-geo-alt-fill me-2"></i> Endereço
            </a>
          </li>
          <li class="nav-item">
            <a class="nav-link d-flex align-items-center" data-bs-toggle="pill" href="#detalhes" role="tab">
              <i class="bi bi-info-circle-fill me-2"></i> Detalhes
            </a>
          </li>
        </ul>
      </div>
      <!-- Conteúdo das abas -->
      <div class="col-md-9 p-4" style="font-size: 1.1rem;">
        <div class="tab-content">
          <!-- Aba: Dados Pessoais -->
          <div class="tab-pane fade show active" id="dados" role="tabpanel">
            <h5 class="text-primary mb-3" style="font-size: 1.3rem;">Dados Pessoais</h5>
            <div class="d-flex align-items-start gap-4">
              <!-- Foto -->
              <div class="flex-shrink-0 text-center">
                <% if @a_atleta.foto_atleta.attached? %>
                  <%= image_tag @a_atleta.foto_atleta.variant(resize_to_fill: [160, 160]),
                      class: "img-thumbnail rounded-circle shadow-sm mb-2",
                      alt: @a_atleta.nome %>
                <% else %>
                  <div class="bg-light border rounded-circle d-flex align-items-center justify-content-center mx-auto mb-2"
                       style="height: 160px; width: 160px;">
                    <i class="bi bi-person-circle fs-1 text-muted"></i>
                  </div>
                  <p class="text-muted mb-0 small">Sem foto</p>
                <% end %>
              </div>
              <!-- Infos principais -->
              <div class="row flex-grow-1" style="max-width: 600px;">
                <div class="col-md-4 col-sm-6 mb-3">
                  <span class="text-muted d-block">Nome</span>
                  <span class="fw-semibold"><%= @a_atleta.nome %></span>
                </div>
                <div class="col-md-4 col-sm-6 mb-3">
                  <span class="text-muted d-block">Nacionalidade</span>
                  <span class="fw-semibold"><%= @a_atleta.nacionalidade %></span>
                </div>
                <div class="col-md-4 col-sm-6 mb-3">
                  <span class="text-muted d-block">CPF</span>
                  <span class="fw-semibold"><%= @a_atleta.cpf %></span>
                </div>
                <div class="col-md-4 col-sm-6 mb-3">
                  <span class="text-muted d-block">Nascimento</span>
                  <span class="fw-semibold"><%= l(@a_atleta.data_nascimento) %></span>
                </div>
                <div class="col-md-4 col-sm-6 mb-3">
                  <span class="text-muted d-block">Contato 1</span>
                  <span class="fw-semibold"><%= @a_atleta.contato1 %></span>
                </div>
                <div class="col-md-4 col-sm-6 mb-3">
                  <span class="text-muted d-block">Contato 2</span>
                  <span class="fw-semibold"><%= @a_atleta.contato2 %></span>
                </div>
              </div>
            </div>
            <!-- Responsáveis -->
            <div class="row g-3 mt-3">
              <div class="col-md-12">
                <h6 class="text-primary mb-3" style="font-size: 1.15rem;">Informações dos Responsáveis</h6>
                <div class="row">
                  <div class="col-md-6 col-sm-6 mb-3">
                    <span class="text-muted d-block">Pai</span>
                    <span class="fw-semibold"><%= @a_atleta.nome_pai %></span>
                  </div>
                  <div class="col-md-6 col-sm-6 mb-3">
                    <span class="text-muted d-block">Mãe</span>
                    <span class="fw-semibold"><%= @a_atleta.nome_mae %></span>
                  </div>
                  <div class="col-md-6 col-sm-6 mb-3">
                    <span class="text-muted d-block">Responsável</span>
                    <span class="fw-semibold"><%= @a_atleta.responsavel_nome %></span>
                  </div>
                  <div class="col-md-6 col-sm-6 mb-3">
                    <span class="text-muted d-block">CPF</span>
                    <span class="fw-semibold"><%= @a_atleta.responsavel_cpf %></span>
                  </div>
                  <div class="col-md-6 col-sm-6 mb-3">
                    <span class="text-muted d-block">RG</span>
                    <span class="fw-semibold"><%= @a_atleta.responsavel_rg %></span>
                  </div>
                  <div class="col-md-6 col-sm-6 mb-3">
                    <span class="text-muted d-block">Orientação</span>
                    <span class="fw-semibold"><%= @a_atleta.responsavel_orientacao %></span>
                  </div>
                </div>
              </div>
            </div>
          </div>
          <!-- Aba: Endereço -->
          <div class="tab-pane fade" id="endereco" role="tabpanel">
            <h5 class="text-primary mb-3" style="font-size: 1.3rem;">Endereço</h5>
            <div class="d-flex flex-column gap-1">
              <span><strong>CEP:</strong> <%= @a_atleta.cep %></span>
              <span><strong>Rua:</strong> <%= @a_atleta.rua %>, <%= @a_atleta.numero %></span>
              <span><strong>Bairro:</strong> <%= @a_atleta.bairro %></span>
              <span><strong>Complemento:</strong> <%= @a_atleta.complemento %></span>
              <span><strong>Cidade:</strong> <%= @a_atleta.g_cidade&.nome_fantasia %></span>
              <span><strong>Estado:</strong> <%= @a_atleta.g_estado&.nome_fantasia %></span>
            </div>
          </div>
          <!-- Aba: Detalhes -->
          <div class="tab-pane fade" id="detalhes" role="tabpanel">
            <h5 class="text-primary mb-3" style="font-size: 1.3rem;">Detalhes</h5>
            <div class="row g-3">
              <div class="col-sm-6">
                <p><strong>Unidade de Treinamento:</strong> <%= @a_atleta.a_unidade_treinamento&.descricao %></p>
              </div>
              <div class="col-sm-6">
                <p><strong>Sexo:</strong> <%= @a_atleta.a_sexo&.descricao %></p>
              </div>
              <div class="col-md-4 text-muted">
                <strong>Criado por:</strong> <%= @a_atleta.created_by || "N/A" %>
              </div>
              <div class="col-md-4 text-muted">
                <strong>Atualizado por:</strong> <%= @a_atleta.updated_by || "N/A" %>
              </div>
              <div class="col-md-4 text-muted">
                <strong>Excluído em:</strong> <%= @a_atleta.deleted_at || "Não" %>
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>
    <!-- Rodapé -->
    <div class="card-footer bg-light border-top d-flex justify-content-end px-4 py-3" style="font-size: 1.1rem;">
      <div class="d-flex gap-2">
        <%= link_to edit_a_atleta_path(@a_atleta), class: "modern-btn modern-btn-primary" do %>
          <i class="bi bi-pencil-square"></i> Editar
        <% end %>
        <%= link_to "Voltar", a_atletas_path, class: "btn btn-light btn-sm" %>
      </div>
    </div>
  </div>
</div>
