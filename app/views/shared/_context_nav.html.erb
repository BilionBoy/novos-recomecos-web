<% content_for :context_nav do %>
  <div class="page-header shadow-sm border-bottom py-3 px-3 m-3 rounded " style="background-color: #f8f9fa;">
    <!-- Cabeçalho com título e botão de ação -->
    <div class="d-flex align-items-center justify-content-between flex-wrap gap-3 mb-2">
      <div class="d-flex align-items-center gap-3">
        <i class="ph-arrow-circle-left fs-3 text-dark hand-pointer" onclick="window.history.back();"></i>
        <h4 class="mb-0 fw-semibold text-dark"><%= title %></h4>
      </div>

      <% if defined?(new_path) && ["index"].include?(params[:action]) %>
        <% if new_path.is_a?(Array) %>
          <div class="btn-group">
            <button type="button" class="btn btn-primary dropdown-toggle" data-bs-toggle="dropdown" aria-expanded="false">
              <i class="ph-plus me-1"></i> Incluir
            </button>
            <ul class="dropdown-menu dropdown-menu-end">
              <% new_path.each do |link| %>
                <li><%= link_to link[0], link[1], class: "dropdown-item" %></li>
              <% end %>
            </ul>
          </div>
        <% else %>
          <%= link_to new_path, class: "btn btn-light d-flex align-items-center gap-2" do %>
            <i class="ph-plus"></i>
            <span class="d-none d-sm-inline">Incluir</span>
          <% end %>
        <% end %>
      <% end %>
    </div>

    <!-- Breadcrumb -->
    <div class="border-top border-white pt-2 mt-2">
      <nav class="breadcrumb mb-0">
        <a href="/" class="breadcrumb-item d-flex align-items-center gap-1 text-dark text-decoration-none">
          <i class="ph-house"></i> <span>Início</span>
        </a>
        <%= yield %>
      </nav>
    </div>
  </div>
<% end %>
